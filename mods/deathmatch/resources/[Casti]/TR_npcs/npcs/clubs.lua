local NPCs = {
    {
        skin = 87,
        pos = Vector3(1208.357421875, -6.4514746665955, 1001.328125),
        int = 2,
        dim = 1,
        rot = 89,
        name = "Michelle Payro",
    },
    {
        skin = 64,
        pos = Vector3(1215.5434570313, -7.4163899421692, 1001.328125),
        int = 2,
        dim = 1,
        rot = 116,
        name = "Clara Wine",
    },
    {
        skin = 75,
        pos = Vector3(1213.6529541016, -3.5103132724762, 1001.328125),
        int = 2,
        dim = 1,
        rot = 174,
        name = "Caroline Drip",
    },
    {
        skin = 87,
        pos = Vector3(1220.9063720703, 8.1820487976074, 1001.335632324),
        int = 2,
        dim = 1,
        rot = 135,
        name = "Ellen Kay",
    },
    {
        skin = 238,
        pos = Vector3(1222.9937744141, -2.1638298034668, 1001.32812),
        int = 2,
        dim = 1,
        rot = 42,
        name = "Alice Mug",
    },
    {
        skin = 244,
        pos = Vector3(1223.150390625, -10.810406684875, 1001.328125),
        int = 2,
        dim = 1,
        rot = 118,
        name = "Angeline Pont",
    },

    -- Strip Ranch
    {
        skin = 244,
        pos = Vector3(1215.7789306641, -33.565990447998, 1001.3903808594),
        int = 3,
        dim = 1,
        rot = 118,
        name = "Monica Wern",
    },
    {
        skin = 85,
        pos = Vector3(1209.1986083984, -35.81801605264, 1001.48437),
        int = 3,
        dim = 1,
        rot = 7,
        name = "Nicole Davern",
    },
    {
        skin = 152,
        pos = Vector3(1212.3911132813, -40.020008087158, 1001.484375),
        int = 3,
        dim = 1,
        rot = 302,
        name = "Rose White",
    },

    -- Strip Nude
    {
        skin = 87,
        pos = Vector3(1215.7789306641, -33.565990447998, 1001.3903808594),
        int = 3,
        dim = 2,
        rot = 118,
        name = "Claudie de Rank",
    },
    {
        skin = 237,
        pos = Vector3(1209.1986083984, -35.81801605264, 1001.48437),
        int = 3,
        dim = 2,
        rot = 7,
        name = "Felicia Philips",
    },
    {
        skin = 63,
        pos = Vector3(1212.3911132813, -40.020008087158, 1001.484375),
        int = 3,
        dim = 2,
        rot = 302,
        name = "Dagie Clot",
    },

    -- Strip Girls
    {
        skin = 85,
        pos = Vector3(1208.357421875, -6.4514746665955, 1001.328125),
        int = 2,
        dim = 2,
        rot = 89,
        name = "Domica Pools",
    },
    {
        skin = 64,
        pos = Vector3(1215.5434570313, -7.4163899421692, 1001.328125),
        int = 2,
        dim = 2,
        rot = 116,
        name = "Celine Blank",
    },
    {
        skin = 75,
        pos = Vector3(1213.6529541016, -3.5103132724762, 1001.328125),
        int = 2,
        dim = 2,
        rot = 174,
        name = "Adrienne Rolt",
    },
    {
        skin = 244,
        pos = Vector3(1220.9063720703, 8.1820487976074, 1001.335632324),
        int = 2,
        dim = 2,
        rot = 135,
        name = "Jennie Marton",
    },
    {
        skin = 63,
        pos = Vector3(1222.9937744141, -2.1638298034668, 1001.32812),
        int = 2,
        dim = 2,
        rot = 42,
        name = "Nina Marks",
    },
    {
        skin = 87,
        pos = Vector3(1223.150390625, -10.810406684875, 1001.328125),
        int = 2,
        dim = 2,
        rot = 118,
        name = "Ella Evans",
    },

    -- Jizzy strip
    {
        skin = 87,
        pos = Vector3(-2671.1962890625, 1410.8334960938, 907.5703125),
        int = 3,
        dim = 3,
        rot = 185,
        name = "Ava Garcia",
        isPremium = true,
    },
    {
        skin = 75,
        pos = Vector3(-2677.572265625, 1404.2209472656, 907.5703125),
        int = 3,
        dim = 3,
        rot = 273,
        name = "Jennifer O'Ryan",
        isPremium = true,
    },
    {
        skin = 64,
        pos = Vector3(-2677.5122070313, 1414.8983154297, 907.5733647581),
        int = 3,
        dim = 3,
        rot = 275,
        name = "Victoria Davis",
        isPremium = true,
    },
    {
        skin = 244,
        pos = Vector3(-2675.7783203125, 1409.9825439453, 907.5703125),
        int = 3,
        dim = 3,
        rot = 265,
        name = "Veronica Mag",
        isPremium = true,
    },
    {
        skin = 238,
        pos = Vector3(-2654.1240234375, 1427.2062988281, 907.3603515625),
        int = 3,
        dim = 3,
        rot = 58,
        name = "Sophia Roberts",
        isPremium = true,
    },
    {
        skin = 237,
        pos = Vector3(-2661.1801757813, 1427.6662597656, 907.36041259766),
        int = 3,
        dim = 3,
        rot = 232,
        name = "Linda Lee",
        role = "Striptizerka",
        isPremium = true,
    },
    {
        skin = 152,
        pos = Vector3(-2671.3220214844, 1428.2840576172, 907.36041259766),
        int = 3,
        dim = 3,
        rot = 353,
        name = "Megane Reno",
        isPremium = true,
    },
    {
        skin = 87,
        pos = Vector3(-2670.3244628906, 1427.544921875, 907.36041259766),
        int = 3,
        dim = 3,
        rot = 204,
        name = "Patricia Willson",
        isPremium = true,
    },
    {
        skin = 63,
        pos = Vector3(-2658.689453125, 1415.2818603516, 907.3886108398),
        int = 3,
        dim = 3,
        rot = 358,
        name = "Mia Evans",
        isPremium = true,
    },
    {
        skin = 64,
        pos = Vector3(-2654.0832519531, 1409.8400878906, 907.38861083984),
        int = 3,
        dim = 3,
        rot = 261,
        name = "Lily Li",
        isPremium = true,
    },
    {
        skin = 75,
        pos = Vector3(-2659.6726074219, 1405.2222900391, 907.38861083984),
        int = 3,
        dim = 3,
        rot = 185,
        name = "Poppy Roy",
        isPremium = true,
    },
    {
        skin = 237,
        pos = Vector3(-2664.3166503906, 1409.8011474609, 907.38861083984),
        int = 3,
        dim = 3,
        rot = 88,
        name = "Jessica Byrne",
        isPremium = true,
    },
}

function createClubsNPC()
    local dialogue200 = exports.TR_npc:createDialogue()
    exports.TR_npc:addDialogueText(dialogue200, "Harika dans ediyorsun.", {pedResponse = "Teşekkür ederim canım."})
    exports.TR_npc:addDialogueText(dialogue200, "Özel dans ister misin? (200$ veya Elmas)", {pedResponse = "Tabii ki. Hadi gel, yan odadaki odaya geçelim.", responseTo = "Harika dans ediyorsun.", trigger = "privateClubDance", triggerData = {1}})
    exports.TR_npc:addDialogueText(dialogue200, "Bir şey değil.", {responseTo = "Harika dans ediyorsun."})

    local dialogue400 = exports.TR_npc:createDialogue()
    exports.TR_npc:addDialogueText(dialogue400, "Harika dans ediyorsun.", {pedResponse = "Teşekkür ederim canım."})
    exports.TR_npc:addDialogueText(dialogue400, "Özel dans ister misin? (400$ veya Elmas)", {pedResponse = "Tabii ki. Hadi gel, yan odadaki odaya geçelim.", responseTo = "Harika dans ediyorsun.", trigger = "privateClubDance", triggerData = {3}})
    exports.TR_npc:addDialogueText(dialogue400, "Bir şey değil.", {responseTo = "Harika dans ediyorsun."})

    for i, v in pairs(NPCs) do
        local ped = exports.TR_npc:createNPC(v.skin, v.pos.x, v.pos.y, v.pos.z, v.rot, v.name, "Striptizci", "dialogue")
        setElementInterior(ped, v.int)
        setElementDimension(ped, v.dim)
        setElementData(ped, "animation", {"STRIP", "STR_Loop_C"})

        exports.TR_npc:setNPCDialogue(ped, v.isPremium and dialogue400 or dialogue200)
    end

    createGuards()
end

function createGuards()
    local dialogueGuard = exports.TR_npc:createDialogue()
    exports.TR_npc:addDialogueText(dialogueGuard, "Merhaba.", {pedResponse = "Seni dışarı atmamam için iyi davran."})

    local guard = exports.TR_npc:createNPC(163, -2641.9462890625, 1410.3083496094, 906.4609375, 133, "Max Toff", "Gözetmen", "dialogue")
    local guard1 = exports.TR_npc:createNPC(164, -2676.1516113281, 1422.9573974609, 906.4609375, 221, "James Anders", "Gözetmen", "dialogue")
    setElementInterior(guard, 3)
    setElementInterior(guard1, 3)
    setElementDimension(guard, 3)
    setElementDimension(guard1, 3)
    exports.TR_npc:setNPCDialogue(guard, dialogueGuard)
    exports.TR_npc:setNPCDialogue(guard1, dialogueGuard)
end
createClubsNPC()


function privateClubDance(ped, data)
    local price = data[1] == 3 and 400 or 200

    local dataPlr = getElementData(client, "characterData")
    if dataPlr.premium ~= "diamond" then
        if exports.TR_core:takeMoneyFromPlayer(client, price) then
            local model = getElementModel(ped)
            triggerClientEvent(client, "makeClubDance", resourceRoot, model, getClubByNPC(ped), price)
        else
            exports.TR_noti:create(client, "Özel dans için paranız yetmiyor.", "error")
        end
    else
        local model = getElementModel(ped)
        triggerClientEvent(client, "makeClubDance", resourceRoot, model, getClubByNPC(ped))
    end
end
addEvent("privateClubDance", true)
addEventHandler("privateClubDance", root, privateClubDance)


function getClubByNPC(ped)
    local int = getElementInterior(ped)
    local dim = getElementDimension(ped)

    if int == 2 and dim == 2 then return 1 end
    if int == 2 and dim == 1 then return 1 end
    if int == 3 and dim == 1 then return 2 end
    if int == 3 and dim == 2 then return 2 end
    return 3
end